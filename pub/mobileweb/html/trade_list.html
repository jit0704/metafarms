<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <title>입출금 내역</title>
  <link rel="stylesheet" href="/pub/mobileweb/css/daterangepicker.min.css">
  <link rel="stylesheet" href="/pub/mobileweb/css/style.css">
  <script src="/pub/mobileweb/js/lib/jquery-3.5.1.min.js"></script>
  <script src="/pub/mobileweb/js/common/includeHTML.js"></script>
  <script src="/pub/mobileweb/js/lib/moment.min.js"></script>
  <script src="/pub/mobileweb/js/lib/jquery.daterangepicker.js"></script>
  <script src="/pub/mobileweb/js/lib/custom-selectbox.js"></script>
  <script src="/pub/mobileweb/js/common/ui.js"></script>
</head>
<body>
  <div class="wrap">
    <header class="header center" include-html="/pub/mobileweb/html/common/header.html" data-title="입출금 내역"></header>
    <main class="container sub type3">
      <div class="trade-list-content">
        <div class="filter-selectbox type2">
          <span class="selectbox bordered md">
            <select>
              <option>오늘</option>
              <option>7일</option>
              <option>30일</option>
              <option>90일</option>
            </select>
          </span>
          <input type="text" inputmode="none" id="date-range-picker" class="input-bordered md">
        </div>
        <!-- //filter-selectbox -->
        <div class="filter-selectbox last">
          <span class="selectbox bordered md">
            <select>
              <option>코인A</option>
              <option>코인B</option>
            </select>
          </span>
          <span class="selectbox bordered md">
            <select>
              <option>전체내역</option>
              <option>입금내역</option>
              <option>출금내역</option>
            </select>
          </span>
          <button type="button" class="btn-block bordered md active-deepgreen">조회</button>
        </div>
        <!-- //filter-selectbox -->
        <div class="tbl-container sticky-scroll">
          <table class="tbl-striped">
            <colgroup>
              <col style="width:100px;">
              <col style="width:100px;">
              <col style="width:100px;">
              <col style="width:100px;">
              <col style="width:100px;">
              <col style="width:100px;">
              <col style="width:100px;">
              <col style="width:100px;">
            </colgroup>
            <thead>
              <tr>
                <th>시간</th>
                <th>코인</th>
                <th>거래구분</th>
                <th>TIXD</th>
                <th>내용</th>
                <th>수량</th>
                <th>수수료</th>
                <th>상태</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="8">내역이 없습니다.</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
              <tr>
                <td>12:35:12</td>
                <td>코인A</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
                <td>data</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- //sticky-scroll -->
      </div>
      <!-- //trade-list-content -->
    </main>
  </div>
  <!-- //wrap -->

  <script>
    $(function(){
      // date-range-picker initialization
      $('#date-range-picker').dateRangePicker({
        container: '.filter-selectbox.type2',
        singleMonth: true,
        showShortcuts: false,
        showTopbar: false,
        separator: ' ~ ',
        language: 'ko'
      })
      .on('datepicker-first-date-selected', function(event, obj){
        var filterSelectbox = event.currentTarget.closest('.filter-selectbox');
        dateRangeSelected(filterSelectbox, false, true);
      })
      .on('datepicker-change', function(event, obj){
        var filterSelectbox = event.currentTarget.closest('.filter-selectbox');
        dateRangeSelected(filterSelectbox, true ,false);
      })
      .on('datepicker-opened', function(){
        var filterSelectbox = $('.filter-selectbox.type2');
        dateRangeSelected(filterSelectbox, true ,false);
      });

      // 이전달, 다음달 버튼 클릭시 선택된 날짜 custom class명 초기화
      $('.month-wrapper .prev, .month-wrapper .next').on('click', function(){
        var filterSelectbox = $('.filter-selectbox.type2');
        dateRangeSelected(filterSelectbox, true ,false);
        $('.month-wrapper tbody tr .lastMonth, .month-wrapper tbody tr .nextMonth').parent('[class*="active-"]').removeClass();
      });

      // date-range-picker 이벤트에 사용되는 DOM요소 재사용 함수
      function dateRangeSelected ($filterSelectbox, activeAdd, activeRemove) {
        var firstDateSelected = $($filterSelectbox).find('.first-date-selected').parent();
        var lastDateSelected =  $($filterSelectbox).find('.last-date-selected').parent();
        if (activeAdd) {
          firstDateSelected.addClass('active-first-selected');
          lastDateSelected.addClass('active-last-selected');
        }
        if (activeRemove) {
          firstDateSelected.removeClass('active-first-selected');
          lastDateSelected.removeClass('active-last-selected');
        }
      };
    });
  </script>
</body>
</html>